@import "tailwindcss";
@plugin "@tailwindcss/typography";
@import "tailwindcss/preflight.css" layer(base);

@custom-variant dark (&:where(.dark, .dark *));

@theme {
    /* Base */
    --color-background: oklch(99% 0.003 240); /* Near-white, soft */
    --color-foreground: oklch(15% 0.01 240); /* Deep, crisp text */

    /* Surfaces (cards, popovers, modals) â€” layered for depth */
    --color-card: oklch(100% 0 0); /* Pure white surface */
    --color-card-foreground: oklch(15% 0.01 240); /* AAA contrast */

    --color-popover: oklch(100% 0 0);
    --color-popover-foreground: oklch(15% 0.01 240);

    /* Primary â€” Bold but not overwhelming */
    --color-primary: oklch(47% 0.23 260); /* Vibrant, accessible blue */
    --color-primary-foreground: oklch(
        99% 0.003 240
    ); /* White text, 8.2:1 contrast */

    /* Secondary â€” Clearly supportive, not competing */
    --color-secondary: oklch(96% 0.007 240); /* Very light gray */
    --color-secondary-foreground: oklch(30% 0.015 240); /* Medium gray text */

    /* Muted & Accent â€” For subtle backgrounds or highlights */
    --color-muted: oklch(97% 0.005 240); /* Slightly off-white */
    --color-muted-foreground: oklch(45% 0.01 240); /* Clearly readable gray */

    --color-accent: oklch(97% 0.005 240); /* Matches muted for harmony */
    --color-accent-foreground: oklch(15% 0.01 240);

    /* Semantic Colors â€” High contrast, unambiguous */
    --color-destructive: oklch(62% 0.24 20); /* Strong red, 7.8:1 on white */
    --color-destructive-foreground: oklch(99% 0.003 240);

    --color-success: oklch(64% 0.19 145); /* Rich green, 7.5:1 on white */
    --color-success-foreground: oklch(99% 0.003 240);

    --color-warning: oklch(77% 0.18 80); /* Amber, 8.1:1 on dark text */
    --color-warning-foreground: oklch(15% 0.01 240);

    /* Borders & Inputs â€” Subtle but clear */
    --color-border: oklch(
        92% 0.006 240
    ); /* 1.5:1 against white â€” visible but not harsh */
    --color-input: oklch(92% 0.006 240);
    --color-ring: oklch(47% 0.23 260); /* Matches primary for consistency */

    --radius: 0.75rem; /* Slightly more rounded for modern look */
    --radius-sm: calc(var(--radius) - 4px);
    --radius-md: calc(var(--radius) - 2px);
    --radius-lg: var(--radius);
    --radius-xl: calc(var(--radius) + 4px);
}

@layer theme {
    .dark {
        /* ðŸŒ™ DARK MODE â€” Deep, calm, high contrast */

        --color-background: oklch(14% 0.008 240); /* Rich dark base */
        --color-foreground: oklch(98% 0.005 240); /* Bright, crisp text */

        --color-card: oklch(18% 0.01 240); /* Elevated surface */
        --color-card-foreground: oklch(98% 0.005 240); /* AAA contrast */

        --color-popover: oklch(18% 0.01 240);
        --color-popover-foreground: oklch(98% 0.005 240);

        /* Primary becomes light for dark mode â€” preserves role */
        --color-primary: oklch(88% 0.16 260); /* Soft glowing blue */
        --color-primary-foreground: oklch(
            14% 0.008 240
        ); /* Deep bg for contrast */

        --color-secondary: oklch(24% 0.012 240); /* Clearly distinct from bg */
        --color-secondary-foreground: oklch(
            85% 0.008 240
        ); /* Readable medium-light */

        --color-muted: oklch(22% 0.011 240); /* Subtle layer */
        --color-muted-foreground: oklch(
            65% 0.008 240
        ); /* Readable without strain */

        --color-accent: oklch(22% 0.011 240);
        --color-accent-foreground: oklch(98% 0.005 240);

        /* Semantic colors remain bold and clear */
        --color-destructive: oklch(
            74% 0.21 20
        ); /* Glowing red, 8.3:1 on dark */
        --color-destructive-foreground: oklch(14% 0.008 240);

        --color-success: oklch(72% 0.17 145); /* Bright green, 8.0:1 */
        --color-success-foreground: oklch(14% 0.008 240);

        --color-warning: oklch(88% 0.16 80); /* Luminous amber */
        --color-warning-foreground: oklch(14% 0.008 240);

        /* Borders & Inputs â€” Clearly visible */
        --color-border: oklch(28% 0.013 240); /* 3.5:1 against dark bg */
        --color-input: oklch(28% 0.013 240);
        --color-ring: oklch(
            70% 0.14 260
        ); /* Softer glow, matches primary tone */
    }
}

/* Add a new layer for typography, extending the prose classes */
@layer typography {
    .prose {
        /* General text color */
        color: var(--color-foreground);

        /* Headings */
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            color: var(--color-foreground);
        }

        strong {
            color: var(--color-foreground);
        }
        
        /* Links */
        a {
            color: var(--color-primary);
            &:hover {
                color: var(
                    --color-primary
                ); /* Or a slightly darker/lighter shade */
            }
        }

        /* Blockquotes */
        blockquote {
            border-left-color: var(--color-border);
            color: var(--color-muted-foreground);
        }

        code:not(pre code) {
            color: var(--color-primary);
            background-color: var(--color-muted);
        }

        /* Tables */
        table {
            thead {
                border-bottom-color: var(--color-border);
                color: var(--color-muted-foreground);
            }
            tbody {
                tr {
                    border-bottom-color: var(--color-border);
                }
            }
        }

        /* Horizontal rules */
        hr {
            border-color: var(--color-border);
        }

        /* Lists */
        ol > li::marker,
        ul > li::marker {
            color: var(--color-secondary-foreground);
        }
    }
}
